<h1>ğŸš€ Cursos cargados</h1>

<div *ngFor="let modulo of cursosPorModulo | keyvalue">



  <h2>{{ modulo.key }}</h2>

  <div style="display: flex; gap: 16px; flex-wrap: wrap;">
    <mat-card *ngFor="let curso of modulo.value" style="width: 300px;">

      <mat-card-title>{{ curso.nombre }}</mat-card-title>

      <mat-card-content>
        <p>{{ curso.descripcion }}</p>
      </mat-card-content>


      <mat-card-actions>

        <!-- â–¶ï¸ NO HAY PROGRESO -->
        <button
          mat-raised-button
          color="primary"
          *ngIf="curso.id && !progresosPorCurso[curso.id]"
          (click)="iniciarCurso(curso.id)">
          â–¶ï¸ Iniciar curso
        </button>

        <!-- ğŸ”„ PROGRESO INICIADO -->
        <button
          mat-raised-button
          color="accent"
          *ngIf="curso.id && progresosPorCurso[curso.id]?.estado === 'INICIADO'"
          (click)="marcarCompletado(curso.id)">
          âœ… Completar curso
        </button>

        <!-- ğŸ… COMPLETADO -->
        <span
          *ngIf="curso.id && progresosPorCurso[curso.id]?.estado === 'COMPLETADO'">
          ğŸ… Curso completado
        </span>

      </mat-card-actions>



    </mat-card>
  </div>

</div>
